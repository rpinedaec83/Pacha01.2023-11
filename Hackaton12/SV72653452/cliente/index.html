<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crear Nuevo Sexo</title>


    
</head>
<body>

    <h2>Crear Nuevo Sexo</h2>

    <button onclick="addSexo()">Crear Sexo</button>
    <button onclick="getSexos()">Mostrar Sexos</button>
    <button onclick="getSexoById()">Buscar Sexo</button>
    <button onclick="updateSexoById()">Actualizar Sexo</button>
    <button onclick="deleteSexoById()">Eliminar Sexo</button>
    <button onclick="deleteAllSexos()">Eliminar Todos</button>

    <script>
        async function addSexo() {
            const nuevoSexo = {
                id: 1, // Aquí puedes definir el ID
                descripcion: "Masculino" // Aquí puedes definir la descripción
            };

            try {
                const response = await fetch('http://127.0.0.1:8080/api/sexo', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Access-Control-Allow-Origin': '*',
                    },
                    body: JSON.stringify(nuevoSexo)
                });

                const data = await response.json();
                console.log('Nuevo sexo creado:', data);
            } catch (error) {
                console.error('Error en la solicitud POST para sexos:', error);
            }
        }







        async function getSexos() {
            try {
                const response = await fetch('http://127.0.0.1:8080/api/sexo');
                const data = await response.json();
                console.log('Sexos:', data);
                
            } catch (error) {
                console.error('Error en la solicitud GET para sexos:', error);
            }
        }



        async function getSexoById() {
            // ID proporcionado en la hoja de código
            const id = 2; // Puedes cambiar esto según el ID que desees buscar

            try {
                const response = await fetch(`http://127.0.0.1:8080/api/sexo/${id}`);
                const data = await response.json();
                console.log('Sexo encontrado por ID:', data);
                // Aquí puedes procesar los datos recibidos y mostrarlos según sea necesario
            } catch (error) {
                console.error('Error en la solicitud GET para sexo por ID:', error);
            }
        }

        async function updateSexoById() {
            // ID y datos actualizados proporcionados en la hoja de código
            const id = 1; // Puedes cambiar esto según el ID del sexo que desees actualizar
            const updatedSexo = {
                descripcion: "Masculino2", // Puedes cambiar esto con la nueva descripción del sexo
                // Puedes agregar más campos para actualizar si es necesario
            };

            try {
                const response = await fetch(`http://127.0.0.1:8080/api/sexo/${id}`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(updatedSexo)
                });
                const data = await response.json();
                console.log('Sexo actualizado:', data);
                // Aquí puedes procesar los datos recibidos y mostrarlos según sea necesario
            } catch (error) {
                console.error('Error en la solicitud PUT para actualizar sexo por ID:', error);
            }
        }



        async function deleteSexoById() {
            // ID proporcionado en la hoja de código
            const id = 1; // Puedes cambiar esto según el ID del sexo que desees eliminar

            try {
                const response = await fetch(`http://127.0.0.1:8080/api/sexo/${id}`, {
                    method: 'DELETE'
                });
                const data = await response.json();
                console.log('Sexo eliminado:', data);
                // Aquí puedes procesar los datos recibidos y mostrarlos según sea necesario
            } catch (error) {
                console.error('Error en la solicitud DELETE para eliminar sexo por ID:', error);
            }
        }


        async function deleteAllSexos() {
            try {
                const response = await fetch(`http://127.0.0.1:8080/api/sexo/`, {
                    method: 'DELETE'
                });
                const data = await response.json();
                console.log('Todos los sexos han sido eliminados:', data);
                // Aquí puedes procesar los datos recibidos y mostrarlos según sea necesario
            } catch (error) {
                console.error('Error en la solicitud DELETE para eliminar todos los sexos:', error);
            }
        }
    </script>

</body>
</html>
